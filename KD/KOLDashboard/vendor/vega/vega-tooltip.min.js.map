{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/d3-format/build/d3-format.js","node_modules/d3-selection/build/d3-selection.js","node_modules/d3-time-format/build/d3-time-format.js","node_modules/d3-time/build/d3-time.js","node_modules/vega-lite/src/type.ts","src/formatFieldValue.ts","src/index.ts","src/options.ts","src/parseOption.ts","src/supplementField.ts","src/tooltipDisplay.ts"],"names":["f","exports","module","define","amd","window","global","self","this","vegaTooltip","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","prefixExponent","formatDecimal","x","p","toExponential","indexOf","coefficient","slice","exponent","Math","abs","NaN","formatRounded","d","Array","join","formatTypes","","toPrecision","out","i1","i0","%","toFixed","b","round","toString","c","g","max","min","floor","X","toUpperCase","re","formatSpecifier","specifier","FormatSpecifier","match","exec","fill","align","sign","symbol","zero","width","comma","precision","type","prototype","locale","identity","prefixes","formatLocale","numerals","grouping","thousands","group","value","j","push","substring","reverse","currency","decimal","replace","percent","newFormat","prefix","test","toLowerCase","suffix","formatType","maybeSuffix","format","valuePrefix","valueSuffix","valueNegative","charCodeAt","Infinity","padding","formatPrefix","k","pow","defaultLocale","definition","formatDefaultLocale","precisionFixed","step","precisionPrefix","precisionRound","Object","defineProperty","factory","d3","xhtml","namespaces","svg","xlink","xml","xmlns","namespace","name","hasOwnProperty","space","local","creator","fullname","ownerDocument","createElementNS","document","uri","namespaceURI","documentElement","createElement","nextId","Local","_","constructor","get","node","id","parentNode","set","remove","matcher","selector","matches","element","vendorMatches","webkitMatchesSelector","msMatchesSelector","mozMatchesSelector","oMatchesSelector","matcher$1","filterEvents","event","mouseenter","mouseleave","filterContextListener","listener","index","contextListener","related","relatedTarget","compareDocumentPosition","event1","event0","__data__","onRemove","typename","on","__on","m","removeEventListener","capture","onAdd","wrap","addEventListener","sourceEvent","source","current","point","ownerSVGElement","createSVGPoint","clientX","y","clientY","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","left","clientLeft","top","clientTop","none","querySelector","empty","selectorAll","querySelectorAll","sparse","update","EnterNode","parent","datum","_next","_parent","appendChild","child","insertBefore","next","keyPrefix","bindIndex","enter","exit","data","groupLength","dataLength","bindKey","key","keyValue","nodeByKeyValue","keyValues","ascending","defaultView","styleValue","style","getPropertyValue","getComputedStyle","classArray","string","trim","split","classList","ClassList","_node","_names","getAttribute","classedAdd","names","list","add","classedRemove","setAttribute","splice","contains","textRemove","textContent","htmlRemove","innerHTML","raise","nextSibling","lower","previousSibling","firstChild","constantNull","removeChild","dispatchEvent","params","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","root","Selection","groups","parents","_groups","_parents","selection","select","subgroups","subnode","subgroup","selectAll","filter","size","each","bind","enterGroup","updateGroup","previous","_enter","_exit","map","merge","groups0","groups1","m0","m1","merges","group0","group1","order","sort","compare","compareNode","sortgroups","sortgroup","callback","arguments","apply","nodes","attr","getAttributeNS","removeAttributeNS","removeAttribute","v","setAttributeNS","priority","removeProperty","setProperty","property","classed","text","html","append","create","insert","before","typenames","dispatch","mouse","changedTouches","clientPoint","touch","touches","identifier","points","customEvent","that","args","d3Time","localDate","date","Date","H","M","S","L","setFullYear","utcDate","UTC","setUTCFullYear","newYear","locale_dateTime","dateTime","locale_date","locale_time","time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","getDay","A","getMonth","B","formatDayOfMonth","formatMicroseconds","formatHour24","I","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","getHours","Q","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","U","formatWeekNumberSunday","V","formatWeekNumberISO","w","formatWeekdayNumberSunday","W","formatWeekNumberMonday","formatYear","Y","formatFullYear","Z","formatZone","formatLiteralPercent","utcFormats","getUTCDay","getUTCMonth","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","getUTCHours","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseSpecifier","parseDayOfMonth","parseMicroseconds","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseYear","parseFullYear","parseZone","parseLiteralPercent","pad","pads","charAt","newParse","newDate","week","day","utcMonday","ceil","utcDay","offset","getUTCFullYear","getUTCDate","timeMonday","timeDay","getFullYear","getDate","parse","utcFormat","utcParse","-","0","numberRe","percentRe","requoteRe","requote","RegExp","count","timeYear","getMilliseconds","getMinutes","getSeconds","timeSunday","timeThursday","z","getTimezoneOffset","utcYear","getUTCMilliseconds","getUTCMinutes","getUTCSeconds","dow","utcSunday","utcThursday","timeFormat","timeParse","isoSpecifier","formatIso","toISOString","parseIso","isNaN","timeFormatDefaultLocale","timeFormatLocale","isoFormat","isoParse","t0","t1","newInterval","floori","offseti","field","interval","d0","d1","range","start","stop","setTime","end","every","isFinite","millisecond","milliseconds","durationMinute","durationHour","durationWeek","second","seconds","minute","minutes","hour","hours","setHours","setDate","weekday","sunday","monday","tuesday","wednesday","thursday","friday","saturday","sundays","mondays","tuesdays","wednesdays","thursdays","fridays","saturdays","month","setMonth","year","years","utcMinute","setUTCSeconds","utcMinutes","utcHour","setUTCMinutes","utcHours","setUTCHours","setUTCDate","utcDays","utcWeekday","utcTuesday","utcWednesday","utcFriday","utcSaturday","utcSundays","utcMondays","utcTuesdays","utcWednesdays","utcThursdays","utcFridays","utcSaturdays","utcMonth","setUTCMonth","utcMonths","utcYears","timeInterval","timeMillisecond","timeMilliseconds","utcMillisecond","utcMilliseconds","timeSecond","timeSeconds","utcSecond","utcSeconds","timeMinute","timeMinutes","timeHour","timeHours","timeDays","timeWeek","timeWeeks","timeSundays","timeMondays","timeTuesday","timeTuesdays","timeWednesday","timeWednesdays","timeThursdays","timeFriday","timeFridays","timeSaturday","timeSaturdays","timeMonth","timeMonths","timeYears","utcWeek","utcWeeks","Type","QUANTITATIVE","ORDINAL","TEMPORAL","NOMINAL","LATITUDE","LONGITUDE","GEOJSON","TYPE_INDEX","quantitative","ordinal","temporal","nominal","latitude","longitude","geojson","isType","getFullName","d3_format_1","d3_time_1","d3_time_format_1","autoNumberFormat","autoTimeFormat","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","customFormat","undefined","autoFormat","d3_selection_1","options_1","parseOption_1","supplementField_1","tooltipDisplay_1","tooltipPromise","tooltipActive","vgView","options","item","shouldShowTooltip","cancelPromise","setTimeout","tooltipPlaceholder","getTooltipPlaceholder","tooltipData","getTooltipData","bindData","updatePosition","updateColorTheme","onAppear","init","delay","DELAY","onMove","clearData","clearColorTheme","clearPosition","onDisappear","clear","clearTimeout","_facetID","copyOptions","newOptions","vega","showAllFields","destroy","vegaLite","vlSpec","supplementOptions","formatFieldValue_1","prepareCustomFieldsData","itemData","fields","forEach","fieldOption","title","getValue","formattedValue","accessors","firstAccessor","shift","console","warn","prepareAllFieldsData","fieldOptions","_i","_a","optionField","removeFields","dataMap","removeKeys","removeDuplicateTimeFields","optFields","optField","removeOriginalTemporalField","combineBinFields","bin","binFieldRange","binFieldStart","binFieldMid","concat","binFieldEnd","startValue","endValue","dropFieldsForLineArea","marktype","quanKeys","mark","vl","type_1","formatTypeMap","getFieldOption","fieldDef","aggregate","fieldOptions_1","fieldOptions_2","_b","fieldOptions_3","getFieldDef","fieldDefs","fieldDefs_1","supplementFieldOption","config","__assign","supplementedFieldOption","normalizeBin","vgField","timeUnit","originalTemporalField","fieldDefs_2","spec","items","countTitle","defaultConfig","defaultTitle","axis","legend","formatExpression","numberFormat","error","supplementedFields","tooltipRows","row","offsetX","offsetY","tooltipHeight","height","innerHeight","tooltipWidth","innerWidth","colorTheme"],"mappings":"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","file":"build/vega-tooltip.min.js.map","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","// https://d3js.org/d3-format/ Version 1.2.2. Copyright 2018 Mike Bostock.\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.d3 = global.d3 || {})));\n}(this, (function (exports) { 'use strict';\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nvar formatDecimal = function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n};\n\nvar exponent = function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n};\n\nvar formatGroup = function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n};\n\nvar formatNumerals = function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n};\n\nvar formatDefault = function(x, p) {\n  x = x.toPrecision(p);\n\n  out: for (var n = x.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (x[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      case \"e\": break out;\n      default: if (i0 > 0) i0 = 0; break;\n    }\n  }\n\n  return i0 > 0 ? x.slice(0, i0) + x.slice(i1 + 1) : x;\n};\n\nvar prefixExponent;\n\nvar formatPrefixAuto = function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n};\n\nvar formatRounded = function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n};\n\nvar formatTypes = {\n  \"\": formatDefault,\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n\n// [[fill]align][sign][symbol][0][width][,][.precision][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-\\( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?([a-z%])?$/i;\n\nfunction formatSpecifier(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n\n  var match,\n      fill = match[1] || \" \",\n      align = match[2] || \">\",\n      sign = match[3] || \"-\",\n      symbol = match[4] || \"\",\n      zero = !!match[5],\n      width = match[6] && +match[6],\n      comma = !!match[7],\n      precision = match[8] && +match[8].slice(1),\n      type = match[9] || \"\";\n\n  // The \"n\" type is an alias for \",g\".\n  if (type === \"n\") comma = true, type = \"g\";\n\n  // Map invalid types to the default format.\n  else if (!formatTypes[type]) type = \"\";\n\n  // If zero fill is specified, padding goes after sign and before digits.\n  if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n  this.fill = fill;\n  this.align = align;\n  this.sign = sign;\n  this.symbol = symbol;\n  this.zero = zero;\n  this.width = width;\n  this.comma = comma;\n  this.precision = precision;\n  this.type = type;\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + this.type;\n};\n\nvar identity = function(x) {\n  return x;\n};\n\nvar prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nvar formatLocale = function(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n      currency = locale.currency,\n      decimal = locale.decimal,\n      numerals = locale.numerals ? formatNumerals(locale.numerals) : identity,\n      percent = locale.percent || \"%\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        type = specifier.type;\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = !type || /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision == null ? (type ? 6 : 12)\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = formatType(Math.abs(value), precision);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n};\n\nvar locale;\n\n\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nfunction defaultLocale(definition) {\n  locale = formatLocale(definition);\n  exports.format = locale.format;\n  exports.formatPrefix = locale.formatPrefix;\n  return locale;\n}\n\nvar precisionFixed = function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n};\n\nvar precisionPrefix = function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n};\n\nvar precisionRound = function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n};\n\nexports.formatDefaultLocale = defaultLocale;\nexports.formatLocale = formatLocale;\nexports.formatSpecifier = formatSpecifier;\nexports.precisionFixed = precisionFixed;\nexports.precisionPrefix = precisionPrefix;\nexports.precisionRound = precisionRound;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","// https://d3js.org/d3-selection/ Version 1.2.0. Copyright 2017 Mike Bostock.\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.d3 = global.d3 || {})));\n}(this, (function (exports) { 'use strict';\n\nvar xhtml = \"http://www.w3.org/1999/xhtml\";\n\nvar namespaces = {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n\nvar namespace = function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n};\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nvar creator = function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n};\n\nvar nextId = 0;\n\nfunction local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nvar matcher = function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n};\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!element.matches) {\n    var vendorMatches = element.webkitMatchesSelector\n        || element.msMatchesSelector\n        || element.mozMatchesSelector\n        || element.oMatchesSelector;\n    matcher = function(selector) {\n      return function() {\n        return vendorMatches.call(this, selector);\n      };\n    };\n  }\n}\n\nvar matcher$1 = matcher;\n\nvar filterEvents = {};\n\nexports.event = null;\n\nif (typeof document !== \"undefined\") {\n  var element$1 = document.documentElement;\n  if (!(\"onmouseenter\" in element$1)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = exports.event; // Events can be reentrant (e.g., focus).\n    exports.event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      exports.event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nvar selection_on = function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n};\n\nfunction customEvent(event1, listener, that, args) {\n  var event0 = exports.event;\n  event1.sourceEvent = exports.event;\n  exports.event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    exports.event = event0;\n  }\n}\n\nvar sourceEvent = function() {\n  var current = exports.event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n};\n\nvar point = function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n};\n\nvar mouse = function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n};\n\nfunction none() {}\n\nvar selector = function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n};\n\nvar selection_select = function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n};\n\nfunction empty() {\n  return [];\n}\n\nvar selectorAll = function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n};\n\nvar selection_selectAll = function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n};\n\nvar selection_filter = function(match) {\n  if (typeof match !== \"function\") match = matcher$1(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n};\n\nvar sparse = function(update) {\n  return new Array(update.length);\n};\n\nvar selection_enter = function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n};\n\nfunction EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n\nvar constant = function(x) {\n  return function() {\n    return x;\n  };\n};\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nvar selection_data = function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n};\n\nvar selection_exit = function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n};\n\nvar selection_merge = function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n};\n\nvar selection_order = function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n};\n\nvar selection_sort = function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n};\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n\nvar selection_call = function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n};\n\nvar selection_nodes = function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n};\n\nvar selection_node = function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n};\n\nvar selection_size = function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n};\n\nvar selection_empty = function() {\n  return !this.node();\n};\n\nvar selection_each = function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n};\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nvar selection_attr = function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n};\n\nvar defaultView = function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n};\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nvar selection_style = function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n};\n\nfunction styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n\nfunction propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nvar selection_property = function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n};\n\nfunction classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nvar selection_classed = function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n};\n\nfunction textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nvar selection_text = function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n};\n\nfunction htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nvar selection_html = function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n};\n\nfunction raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nvar selection_raise = function() {\n  return this.each(raise);\n};\n\nfunction lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nvar selection_lower = function() {\n  return this.each(lower);\n};\n\nvar selection_append = function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n};\n\nfunction constantNull() {\n  return null;\n}\n\nvar selection_insert = function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n};\n\nfunction remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nvar selection_remove = function() {\n  return this.each(remove);\n};\n\nvar selection_datum = function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n};\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nvar selection_dispatch = function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n};\n\nvar root = [null];\n\nfunction Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nvar select = function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n};\n\nvar selectAll = function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n};\n\nvar touch = function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n};\n\nvar touches = function(node, touches) {\n  if (touches == null) touches = sourceEvent().touches;\n\n  for (var i = 0, n = touches ? touches.length : 0, points = new Array(n); i < n; ++i) {\n    points[i] = point(node, touches[i]);\n  }\n\n  return points;\n};\n\nexports.creator = creator;\nexports.local = local;\nexports.matcher = matcher$1;\nexports.mouse = mouse;\nexports.namespace = namespace;\nexports.namespaces = namespaces;\nexports.clientPoint = point;\nexports.select = select;\nexports.selectAll = selectAll;\nexports.selection = selection;\nexports.selector = selector;\nexports.selectorAll = selectorAll;\nexports.style = styleValue;\nexports.touch = touch;\nexports.touches = touches;\nexports.window = defaultView;\nexports.customEvent = customEvent;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","// https://d3js.org/d3-time-format/ Version 2.1.1. Copyright 2017 Mike Bostock.\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-time')) :\n\ttypeof define === 'function' && define.amd ? define(['exports', 'd3-time'], factory) :\n\t(factory((global.d3 = global.d3 || {}),global.d3));\n}(this, (function (exports,d3Time) { 'use strict';\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n}\n\nfunction formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newYear(d.y)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? d3Time.utcMonday.ceil(week) : d3Time.utcMonday(week);\n          week = d3Time.utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = newDate(newYear(d.y)), day = week.getDay();\n          week = day > 4 || day === 0 ? d3Time.timeMonday.ceil(week) : d3Time.timeMonday(week);\n          week = d3Time.timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"};\nvar numberRe = /^\\s*\\d+/;\nvar percentRe = /^%/;\nvar requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = (+n[0]) * 1000, i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + d3Time.timeDay.count(d3Time.timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(d3Time.timeSunday.count(d3Time.timeYear(d), d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? d3Time.timeThursday(d) : d3Time.timeThursday.ceil(d);\n  return pad(d3Time.timeThursday.count(d3Time.timeYear(d), d) + (d3Time.timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(d3Time.timeMonday.count(d3Time.timeYear(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + d3Time.utcDay.count(d3Time.utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(d3Time.utcSunday.count(d3Time.utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? d3Time.utcThursday(d) : d3Time.utcThursday.ceil(d);\n  return pad(d3Time.utcThursday.count(d3Time.utcYear(d), d) + (d3Time.utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(d3Time.utcMonday.count(d3Time.utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n\nvar locale;\n\n\n\n\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nfunction defaultLocale(definition) {\n  locale = formatLocale(definition);\n  exports.timeFormat = locale.format;\n  exports.timeParse = locale.parse;\n  exports.utcFormat = locale.utcFormat;\n  exports.utcParse = locale.utcParse;\n  return locale;\n}\n\nvar isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : exports.utcFormat(isoSpecifier);\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : exports.utcParse(isoSpecifier);\n\nexports.timeFormatDefaultLocale = defaultLocale;\nexports.timeFormatLocale = formatLocale;\nexports.isoFormat = formatIso;\nexports.isoParse = parseIso;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","// https://d3js.org/d3-time/ Version 1.0.8. Copyright 2017 Mike Bostock.\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.d3 = global.d3 || {})));\n}(this, (function (exports) { 'use strict';\n\nvar t0 = new Date;\nvar t1 = new Date;\n\nfunction newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n\nvar millisecond = newInterval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return newInterval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nvar milliseconds = millisecond.range;\n\nvar durationSecond = 1e3;\nvar durationMinute = 6e4;\nvar durationHour = 36e5;\nvar durationDay = 864e5;\nvar durationWeek = 6048e5;\n\nvar second = newInterval(function(date) {\n  date.setTime(Math.floor(date / durationSecond) * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nvar seconds = second.range;\n\nvar minute = newInterval(function(date) {\n  date.setTime(Math.floor(date / durationMinute) * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nvar minutes = minute.range;\n\nvar hour = newInterval(function(date) {\n  var offset = date.getTimezoneOffset() * durationMinute % durationHour;\n  if (offset < 0) offset += durationHour;\n  date.setTime(Math.floor((+date - offset) / durationHour) * durationHour + offset);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nvar hours = hour.range;\n\nvar day = newInterval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nvar days = day.range;\n\nfunction weekday(i) {\n  return newInterval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nvar sunday = weekday(0);\nvar monday = weekday(1);\nvar tuesday = weekday(2);\nvar wednesday = weekday(3);\nvar thursday = weekday(4);\nvar friday = weekday(5);\nvar saturday = weekday(6);\n\nvar sundays = sunday.range;\nvar mondays = monday.range;\nvar tuesdays = tuesday.range;\nvar wednesdays = wednesday.range;\nvar thursdays = thursday.range;\nvar fridays = friday.range;\nvar saturdays = saturday.range;\n\nvar month = newInterval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nvar months = month.range;\n\nvar year = newInterval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nvar years = year.range;\n\nvar utcMinute = newInterval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nvar utcMinutes = utcMinute.range;\n\nvar utcHour = newInterval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nvar utcHours = utcHour.range;\n\nvar utcDay = newInterval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nvar utcDays = utcDay.range;\n\nfunction utcWeekday(i) {\n  return newInterval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nvar utcSunday = utcWeekday(0);\nvar utcMonday = utcWeekday(1);\nvar utcTuesday = utcWeekday(2);\nvar utcWednesday = utcWeekday(3);\nvar utcThursday = utcWeekday(4);\nvar utcFriday = utcWeekday(5);\nvar utcSaturday = utcWeekday(6);\n\nvar utcSundays = utcSunday.range;\nvar utcMondays = utcMonday.range;\nvar utcTuesdays = utcTuesday.range;\nvar utcWednesdays = utcWednesday.range;\nvar utcThursdays = utcThursday.range;\nvar utcFridays = utcFriday.range;\nvar utcSaturdays = utcSaturday.range;\n\nvar utcMonth = newInterval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nvar utcMonths = utcMonth.range;\n\nvar utcYear = newInterval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nvar utcYears = utcYear.range;\n\nexports.timeInterval = newInterval;\nexports.timeMillisecond = millisecond;\nexports.timeMilliseconds = milliseconds;\nexports.utcMillisecond = millisecond;\nexports.utcMilliseconds = milliseconds;\nexports.timeSecond = second;\nexports.timeSeconds = seconds;\nexports.utcSecond = second;\nexports.utcSeconds = seconds;\nexports.timeMinute = minute;\nexports.timeMinutes = minutes;\nexports.timeHour = hour;\nexports.timeHours = hours;\nexports.timeDay = day;\nexports.timeDays = days;\nexports.timeWeek = sunday;\nexports.timeWeeks = sundays;\nexports.timeSunday = sunday;\nexports.timeSundays = sundays;\nexports.timeMonday = monday;\nexports.timeMondays = mondays;\nexports.timeTuesday = tuesday;\nexports.timeTuesdays = tuesdays;\nexports.timeWednesday = wednesday;\nexports.timeWednesdays = wednesdays;\nexports.timeThursday = thursday;\nexports.timeThursdays = thursdays;\nexports.timeFriday = friday;\nexports.timeFridays = fridays;\nexports.timeSaturday = saturday;\nexports.timeSaturdays = saturdays;\nexports.timeMonth = month;\nexports.timeMonths = months;\nexports.timeYear = year;\nexports.timeYears = years;\nexports.utcMinute = utcMinute;\nexports.utcMinutes = utcMinutes;\nexports.utcHour = utcHour;\nexports.utcHours = utcHours;\nexports.utcDay = utcDay;\nexports.utcDays = utcDays;\nexports.utcWeek = utcSunday;\nexports.utcWeeks = utcSundays;\nexports.utcSunday = utcSunday;\nexports.utcSundays = utcSundays;\nexports.utcMonday = utcMonday;\nexports.utcMondays = utcMondays;\nexports.utcTuesday = utcTuesday;\nexports.utcTuesdays = utcTuesdays;\nexports.utcWednesday = utcWednesday;\nexports.utcWednesdays = utcWednesdays;\nexports.utcThursday = utcThursday;\nexports.utcThursdays = utcThursdays;\nexports.utcFriday = utcFriday;\nexports.utcFridays = utcFridays;\nexports.utcSaturday = utcSaturday;\nexports.utcSaturdays = utcSaturdays;\nexports.utcMonth = utcMonth;\nexports.utcMonths = utcMonths;\nexports.utcYear = utcYear;\nexports.utcYears = utcYears;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","import {Flag} from './util';\n/** Constants and utilities for data type */\n/** Data type based on level of measurement */\n\nexport namespace Type {\n  export const QUANTITATIVE: 'quantitative' = 'quantitative';\n  export const ORDINAL: 'ordinal' = 'ordinal';\n  export const TEMPORAL: 'temporal' = 'temporal';\n  export const NOMINAL: 'nominal' = 'nominal';\n\n  export const LATITUDE: 'latitude' = 'latitude';\n  export const LONGITUDE: 'longitude' = 'longitude';\n  export const GEOJSON: 'geojson' = 'geojson';\n}\nexport type BasicType = typeof Type.QUANTITATIVE | typeof Type.ORDINAL | typeof Type.TEMPORAL | typeof Type.NOMINAL;\nexport type GeoType = typeof Type.LATITUDE | typeof Type.LONGITUDE | typeof Type.GEOJSON;\n\nexport type Type = BasicType | GeoType;\n\nconst TYPE_INDEX: Flag<Type> = {\n  quantitative: 1,\n  ordinal: 1,\n  temporal: 1,\n  nominal: 1,\n  latitude: 1,\n  longitude: 1,\n  geojson: 1\n};\n\nexport function isType(t: any): t is Type {\n  return !!TYPE_INDEX[t];\n}\n\nexport const QUANTITATIVE = Type.QUANTITATIVE;\nexport const ORDINAL = Type.ORDINAL;\nexport const TEMPORAL = Type.TEMPORAL;\nexport const NOMINAL = Type.NOMINAL;\n\nexport const LATITUDE = Type.LATITUDE;\nexport const LONGITUDE = Type.LONGITUDE;\nexport const GEOJSON = Type.GEOJSON;\n\n/**\n * Get full, lowercase type name for a given type.\n * @param  type\n * @return Full type name.\n */\nexport function getFullName(type: Type|string): Type {\n  if (type) {\n    type = type.toLowerCase();\n    switch (type) {\n      case 'q':\n      case QUANTITATIVE:\n        return 'quantitative';\n      case 't':\n      case TEMPORAL:\n        return 'temporal';\n      case 'o':\n      case ORDINAL:\n        return 'ordinal';\n      case 'n':\n      case NOMINAL:\n        return 'nominal';\n      case LATITUDE:\n        return 'latitude';\n      case LONGITUDE:\n        return 'longitude';\n      case GEOJSON:\n        return 'geojson';\n    }\n  }\n  // If we get invalid input, return undefined type.\n  return undefined;\n}\n","import {format as d3NumberFormat} from 'd3-format';\nimport {timeDay, timeHour, timeMinute, timeMonth, timeSecond, timeWeek, timeYear} from 'd3-time';\nimport {timeFormat} from 'd3-time-format';\n\n/**\n * Format value using formatType and format\n * @param value - a field value to be formatted\n * @param formatType - the formatType can be: \"time\", \"number\", or \"string\"\n * @param format - a time time format specifier, or a time number format specifier, or undefined\n * @return the formatted value, or undefined if value or formatType is missing\n */\nexport function customFormat(value: number | string | Date, formatType: string, format: string): string {\n  if (value === undefined || value === null) {\n    return undefined;\n  }\n  if (!formatType) {\n    return undefined;\n  }\n\n  switch (formatType) {\n    case 'time':\n      return format ? timeFormat(format)(value as Date) : autoTimeFormat(value as Date);\n    case 'number':\n      return format ? d3NumberFormat(format)(value as number) : autoNumberFormat(value as number);\n    case 'string':\n    default:\n      return value as string;\n  }\n}\n\n/**\n * Automatically format a time, number or string value\n * @return the formatted time, number or string value\n */\nexport function autoFormat(value: string | number | Date): string {\n  if (typeof value === 'number') {\n    return autoNumberFormat(value);\n  } else if (value instanceof Date) {\n    return autoTimeFormat(value);\n  } else {\n    return value;\n  }\n}\n\n/**\n * Automatically format a number based on its decimal.\n * @param value number to be formatted\n * @return If it's a decimal number, return a fixed two points precision.\n * If it's a whole number, return the original value without any format.\n */\nexport function autoNumberFormat(value: number) {\n  return value % 1 === 0 ? d3NumberFormat(',')(value) : d3NumberFormat(',.2f')(value);\n}\n\n/**\n * Automatically format a time based on its date.\n * @param date object to be formatted\n * @return a formatted time string depending on the time. For example,\n * the start of February is formatted as \"February\", while February second is formatted as \"Feb 2\".\n */\nexport function autoTimeFormat(date: Date) {\n  const formatMillisecond = timeFormat('.%L'),\n    formatSecond = timeFormat(':%S'),\n    formatMinute = timeFormat('%I:%M'),\n    formatHour = timeFormat('%I %p'),\n    formatDay = timeFormat('%a %d'),\n    formatWeek = timeFormat('%b %d'),\n    formatMonth = timeFormat('%B'),\n    formatYear = timeFormat('%Y');\n\n  return (timeSecond(date) < date ? formatMillisecond\n    : timeMinute(date) < date ? formatSecond\n      : timeHour(date) < date ? formatMinute\n        : timeDay(date) < date ? formatHour\n          : timeMonth(date) < date ? (timeWeek(date) < date ? formatDay : formatWeek)\n            : timeYear(date) < date ? formatMonth\n              : formatYear)(date);\n}\n","import {select} from 'd3-selection';\nimport {TopLevelExtendedSpec} from 'vega-lite/build/src/spec';\nimport {DELAY, Option, Scenegraph, VgView} from './options';\nimport {getTooltipData} from './parseOption';\nimport {supplementOptions} from './supplementField';\nimport {bindData, clearColorTheme, clearData, clearPosition, getTooltipPlaceholder, updateColorTheme, updatePosition} from './tooltipDisplay';\n\nlet tooltipPromise: number = undefined;\nlet tooltipActive = false;\n\n/**\n * Export API for Vega visualizations: vg.tooltip(vgView, options)\n * options can specify whether to show all fields or to show only custom fields\n * It can also provide custom title and format for fields\n */\nexport function vega(vgView: VgView, options: Option = {showAllFields: true}) {\n  start(vgView, copyOptions(options));\n\n  return {\n    destroy: function () {\n      // remove event listeners\n      vgView.removeEventListener('mouseover.tooltipInit');\n      vgView.removeEventListener('mousemove.tooltipUpdate');\n      vgView.removeEventListener('mouseout.tooltipRemove');\n\n      cancelPromise(); // clear tooltip promise\n    }\n  };\n}\n\nexport function vegaLite(vgView: VgView, vlSpec: TopLevelExtendedSpec, options: Option = {showAllFields: true}) {\n  options = supplementOptions(copyOptions(options), vlSpec);\n  start(vgView, options);\n\n  return {\n    destroy: function () {\n      // remove event listeners\n      vgView.removeEventListener('mouseover.tooltipInit');\n      vgView.removeEventListener('mousemove.tooltipUpdate');\n      vgView.removeEventListener('mouseout.tooltipRemove');\n\n      cancelPromise(); // clear tooltip promise\n    }\n  };\n}\n\nfunction start(vgView: VgView, options: Option) {\n  // initialize tooltip with item data and options on mouse over\n  vgView.addEventListener('mouseover.tooltipInit', function (event: MouseEvent, item: Scenegraph) {\n    if (shouldShowTooltip(item)) {\n      // clear existing promise because mouse can only point at one thing at a time\n      cancelPromise();\n\n      // make a new promise with time delay for tooltip\n      tooltipPromise = window.setTimeout(function () {\n        init(event, item, options);\n      }, options.delay || DELAY);\n    }\n  });\n\n  // update tooltip position on mouse move\n  // (important for large marks e.g. bars)\n  vgView.addEventListener('mousemove.tooltipUpdate', function (event: MouseEvent, item: Scenegraph) {\n    if (shouldShowTooltip(item) && tooltipActive) {\n      update(event, item, options);\n    }\n  });\n\n  // clear tooltip on mouse out\n  vgView.addEventListener('mouseout.tooltipRemove', function (event: MouseEvent, item: Scenegraph) {\n    if (shouldShowTooltip(item)) {\n      cancelPromise();\n\n      if (tooltipActive) {\n        clear(event, item, options);\n      }\n    }\n  });\n}\n\n/* Cancel tooltip promise */\nfunction cancelPromise() {\n  /* We don't check if tooltipPromise is valid because passing\n   an invalid ID to clearTimeout does not have any effect\n   (and doesn't throw an exception). */\n  window.clearTimeout(tooltipPromise);\n  tooltipPromise = undefined;\n}\n\n/* Initialize tooltip with data */\nfunction init(event: MouseEvent, item: Scenegraph, options: Option): void {\n  // get tooltip HTML placeholder\n  const tooltipPlaceholder = getTooltipPlaceholder();\n\n  // prepare data for tooltip\n  const tooltipData = getTooltipData(item, options);\n  if (!tooltipData || tooltipData.length === 0) {\n    return undefined;\n  }\n\n  // bind data to tooltip HTML placeholder\n  bindData(tooltipPlaceholder, tooltipData);\n\n  updatePosition(event, options);\n  updateColorTheme(options);\n  select('#vis-tooltip').style('visibility', 'visible');\n  tooltipActive = true;\n\n  // invoke user-provided callback\n  if (options.onAppear) {\n    options.onAppear(event, item);\n  }\n}\n\n/* Update tooltip position on mousemove */\nfunction update(event: MouseEvent, item: Scenegraph, options: Option): void {\n  if (!shouldShowTooltip(item)) {\n    return undefined;\n  }\n  updatePosition(event, options);\n\n  // invoke user-provided callback\n  if (options.onMove) {\n    options.onMove(event, item);\n  }\n}\n\n/* Clear tooltip */\nfunction clear(event: MouseEvent, item: Scenegraph, options: Option): void {\n  if (!shouldShowTooltip(item)) {\n    return undefined;\n  }\n  // visibility hidden instead of display none\n  // because we need computed tooltip width and height to best position it\n  select('#vis-tooltip').style('visibility', 'hidden');\n\n  tooltipActive = false;\n  clearData();\n  clearColorTheme();\n  clearPosition();\n\n  // invoke user-provided callback\n  if (options.onDisappear) {\n    options.onDisappear(event, item);\n  }\n}\n\n/* Decide if a Scenegraph item deserves tooltip */\nfunction shouldShowTooltip(item: Scenegraph) {\n  // no data, no show\n  if (!item || !item.datum) {\n    return false;\n  }\n  // (small multiples) avoid showing tooltip for a facet's background\n  if (item.datum._facetID) {\n    return false;\n  }\n\n  return true;\n}\n\n/**\n * Copy options into new objects to prevent causing side-effect to original object\n */\nfunction copyOptions(options: Option) {\n  const newOptions: Option = {};\n  for (const field in options) {\n    if (options.hasOwnProperty(field)) {\n      newOptions[field] = options[field];\n    }\n  }\n  return newOptions;\n}\n","import {ScenegraphData} from './options';\nexport interface Option {\n  showAllFields?: boolean;\n  fields?: FieldOption[];\n  delay?: number;\n  offset?: {\n    x: number,\n    y: number\n  };\n  onAppear?(event: Event, item: object): void;\n  onMove?(event: Event, item: object): void;\n  onDisappear?(event: Event, item: object): void;\n  colorTheme?: 'light' | 'dark';\n  [key: string]: string | object | boolean | number;\n}\n\nexport interface FieldOption {\n  [key: string]: string | boolean;\n  field?: string;\n  title?: string;\n  formatType?: 'number' | 'time' | 'string';\n  format?: string;\n  aggregate?: string;\n  bin?: boolean;\n}\n\nexport interface SupplementedFieldOption extends FieldOption {\n  removeOriginalTemporalField?: string;\n  bin?: boolean;\n}\n\nexport interface ScenegraphData {\n  [key: string]: string | number | Date | ScenegraphData;\n}\n\nexport type TooltipData = {title: string, value: string | number};\n\nexport type Scenegraph = {\n  datum: ScenegraphData,\n  mark: {\n    marktype: string,\n    items: object,\n    name: string\n  }\n};\n\nexport type TemporaryFieldOption = {\n  [key: string]: FieldOption\n};\n\nexport type VgView = any;\n\nexport const DELAY = 100;\n","import {autoFormat, customFormat} from './formatFieldValue';\nimport {FieldOption, Option, Scenegraph, ScenegraphData, SupplementedFieldOption, TemporaryFieldOption, TooltipData} from './options';\n\n/**\n * Prepare data for the tooltip\n * @return An array of tooltip data [{ title: ..., value: ...}]\n */\n// TODO: add marktype\nexport function getTooltipData(item: Scenegraph, options: Option) {\n  // ignore data from group marks\n  if (item.mark.marktype === 'group') {\n    return undefined;\n  }\n\n  // this array will be bind to the tooltip element\n  let tooltipData: TooltipData[];\n  const itemData: ScenegraphData = {};\n  for (const field in item.datum) {\n    if (item.datum.hasOwnProperty(field)) {\n      itemData[field] = item.datum[field];\n    }\n  }\n\n  const removeKeys = [\n    'width', 'height', 'count_start', 'count_end',\n    'layout_start', 'layout_mid', 'layout_end', 'layout_path', 'layout_x', 'layout_y'\n  ];\n  removeFields(itemData, removeKeys);\n\n  // remove duplicate time fields (if any)\n  removeDuplicateTimeFields(itemData, options.fields);\n\n  // combine multiple rows of a binned field into a single row\n  combineBinFields(itemData, options.fields);\n\n  // TODO(zening): use Vega-Lite layering to support tooltip on line and area charts (#1)\n  dropFieldsForLineArea(item.mark.marktype, itemData);\n  if (options.showAllFields === true) {\n    tooltipData = prepareAllFieldsData(itemData, options);\n  } else {\n    tooltipData = prepareCustomFieldsData(itemData, options);\n  }\n  return tooltipData;\n}\n\n/**\n * Prepare custom fields data for tooltip. This function formats\n * field titles and values and returns an array of formatted fields.\n *\n * @param {time.map} itemData - a map of item.datum\n * @param {Object} options - user-provided options\n * @return An array of formatted fields specified by options [{ title: ..., value: ...}]\n */\nexport function prepareCustomFieldsData(itemData: ScenegraphData, options: Option = {}) {\n  const tooltipData: TooltipData[] = [];\n\n  options.fields.forEach(function (fieldOption) {\n    // prepare field title\n    const title = fieldOption.title ? fieldOption.title : fieldOption.field;\n\n    // get (raw) field value\n    const value = getValue(itemData, fieldOption.field);\n    if (value === undefined) {\n      return undefined;\n    }\n\n    // format value\n    const formattedValue = customFormat(value, fieldOption.formatType, fieldOption.format) || autoFormat(value);\n\n    // add formatted data to tooltipData\n    tooltipData.push({title: title, value: formattedValue});\n  });\n\n  return tooltipData;\n}\n\n/**\n * Get a field value from a data map.\n * @param {time.map} itemData - a map of item.datum\n * @param {string} field - the name of the field. It can contain \".\" to specify\n * that the field is not a direct child of item.datum\n * @return the field value on success, undefined otherwise\n */\n// TODO(zening): Mute \"Cannot find field\" warnings for composite vis (issue #39)\nexport function getValue(itemData: ScenegraphData, field: string) {\n  let value: string | number | Date | ScenegraphData;\n\n  const accessors: string[] = field.split('.');\n\n  // get the first accessor and remove it from the array\n  const firstAccessor: string = accessors[0];\n  accessors.shift();\n  if (itemData[firstAccessor]) {\n    value = itemData[firstAccessor];\n\n    // if we still have accessors, use them to get the value\n    accessors.forEach(function (a) {\n      value = value as ScenegraphData;\n      if (value[a]) {\n        value = value[a];\n      }\n    });\n  }\n\n  if (value === undefined) {\n    console.warn('[Tooltip] Cannot find field ' + field + ' in data.');\n    return undefined;\n  } else {\n    return value as string | number | Date;\n  }\n}\n\n\n/**\n * Prepare data for all fields in itemData for tooltip. This function\n * formats field titles and values and returns an array of formatted fields.\n *\n * @param {time.map} itemData - a map of item.datum\n * @param {Object} options - user-provided options\n * @return All fields in itemData, formatted, in the form of an array: [{ title: ..., value: ...}]\n *\n * Please note that this function expects itemData to be simple {field:value} pairs.\n * It will not try to parse value if it is an object. If value is an object, please\n * use prepareCustomFieldsData() instead.\n */\nexport function prepareAllFieldsData(itemData: ScenegraphData, options: Option = {}) {\n  const tooltipData: TooltipData[] = [];\n\n  // here, fieldOptions still provides format\n  const fieldOptions: TemporaryFieldOption = {};\n  if (options && options.fields) {\n    for (const optionField of options.fields) {\n      fieldOptions[optionField.field] = optionField;\n    }\n  }\n\n  for (const field in itemData) {\n    if (itemData.hasOwnProperty(field)) {\n      const value = itemData[field] as number | string | Date;\n      let title;\n      if (fieldOptions[field] && fieldOptions[field].title) {\n        title = fieldOptions[field].title;\n      } else {\n        title = field;\n      }\n\n      let formatType;\n      let format;\n      // format value\n      if (fieldOptions[field]) {\n        formatType = fieldOptions[field].formatType;\n        format = fieldOptions[field].format;\n      }\n      const formattedValue = customFormat(value, formatType, format) || autoFormat(value);\n\n      // add formatted data to tooltipData\n      tooltipData.push({title: title, value: formattedValue});\n    }\n  }\n  return tooltipData;\n}\n\n/**\n * Remove multiple fields from a tooltip data map, using removeKeys\n *\n * Certain meta data fields (e.g. \"_id\", \"_prev\") should be hidden in the tooltip\n * by default. This function can be used to remove these fields from tooltip data.\n * @param {time.map} dataMap - the data map that contains tooltip data.\n * @param {string[]} removeKeys - the fields that should be removed from dataMap.\n */\nexport function removeFields(dataMap: ScenegraphData, removeKeys: string[]) {\n  removeKeys.forEach(function (key) {\n    delete dataMap[key];\n  });\n}\n\n/**\n * When a temporal field has timeUnit, itemData will give us duplicated fields\n * (e.g., Year and YEAR(Year)). In tooltip want to display the field WITH the\n * timeUnit and remove the field that doesn't have timeUnit.\n */\nexport function removeDuplicateTimeFields(itemData: ScenegraphData, optFields: SupplementedFieldOption[]): void {\n  if (!optFields) {\n    return undefined;\n  }\n\n  optFields.forEach(function (optField) {\n    if (optField.removeOriginalTemporalField) {\n      removeFields(itemData, [optField.removeOriginalTemporalField]);\n    }\n  });\n}\n\n/**\n * Combine multiple binned fields in itemData into one field. The value of the field\n * is a string that describes the bin range.\n *\n * @param {Object} itemData - an object of item.datum\n * @param {Object[]} fieldOptions - a list of field options (i.e. options.fields[])\n * @return itemData with combined bin fields\n */\nexport function combineBinFields(itemData: ScenegraphData, fieldOptions: FieldOption[]) {\n  if (!fieldOptions) {\n    return undefined;\n  }\n\n  fieldOptions.forEach(function (fieldOption) {\n    if (fieldOption.bin === true) {\n      // get binned field names\n      const binFieldRange = fieldOption.field;\n      const binFieldStart = binFieldRange;\n      const binFieldMid = binFieldRange.concat('_mid');\n      const binFieldEnd = binFieldRange.concat('_end');\n\n      // use start value and end value to compute range\n      // save the computed range in binFieldStart\n      const startValue = itemData[binFieldStart];\n      const endValue = itemData[binFieldEnd];\n      if ((startValue !== undefined) && (endValue !== undefined)) {\n        const range = startValue + '-' + endValue;\n        itemData[binFieldRange] = range;\n      }\n\n      // remove binFieldMid, binFieldEnd, and binFieldRange from itemData\n      const binRemoveKeys = [binFieldMid, binFieldEnd];\n      removeFields(itemData, binRemoveKeys);\n    }\n  });\n\n  return itemData;\n}\n\n/**\n * Drop fields for line and area marks.\n *\n * Lines and areas are defined by a series of datum. We overlay point marks\n * on top of lines and areas to allow tooltip to show all data in the series.\n * For the line marks and area marks underneath, we only show nominal fields\n * in tooltip. This is because line / area marks only give us the last datum\n * in their series. It only make sense to show the nominal fields (e.g., symbol\n * = APPL, AMZN, GOOG, IBM, MSFT) because these fields don't tend to change along\n * the line / area border.\n */\nexport function dropFieldsForLineArea(marktype: string, itemData: ScenegraphData) {\n  if (marktype === 'line' || marktype === 'area') {\n    const quanKeys: string[] = [];\n    for (const key in itemData) {\n      if (itemData.hasOwnProperty(key)) {\n        const value = itemData[key];\n        if (value instanceof Date) {\n          quanKeys.push(key);\n        }\n      }\n    }\n    removeFields(itemData, quanKeys);\n  }\n}\n","import * as vl from 'vega-lite';\nimport {FieldDef, MarkPropFieldDef, PositionFieldDef} from 'vega-lite/build/src/fielddef';\nimport {TopLevelExtendedSpec} from 'vega-lite/build/src/spec';\nimport {TEMPORAL} from 'vega-lite/build/src/type';\nimport {FieldOption, Option, SupplementedFieldOption} from './options';\n\n/* mapping from fieldDef.type to formatType */\nconst formatTypeMap: { [type: string]: 'number' | 'time' } = {\n  'quantitative': 'number',\n  'temporal': 'time',\n  'ordinal': undefined,\n  'nominal': undefined\n};\n\n/**\n * (Vega-Lite only) Supplement options with vlSpec\n *\n * @param options - user-provided options\n * @param vlSpec - vega-lite spec\n * @return the vlSpec-supplemented options object\n *\n * if options.showAllFields is true or undefined, vlSpec will supplement\n * options.fields with all fields in the spec\n * if options.showAllFields is false, vlSpec will only supplement existing fields\n * in options.fields\n */\nexport function supplementOptions(options: Option, vlSpec: TopLevelExtendedSpec) {\n  // fields to be supplemented by vlSpec\n  const supplementedFields: FieldOption[] = [];\n\n  // if showAllFields is true or undefined, supplement all fields in vlSpec\n  if (options.showAllFields !== false) {\n    vl.spec.fieldDefs(vlSpec).forEach(function (fieldDef: FieldDef<any>) {\n      // get a fieldOption in options that matches the fieldDef\n      const fieldOption = getFieldOption(options.fields, fieldDef);\n\n      // supplement the fieldOption with fieldDef and config\n      const supplementedFieldOption = supplementFieldOption(fieldOption, fieldDef, vlSpec);\n\n      supplementedFields.push(supplementedFieldOption);\n    });\n  } else { // if showAllFields is false, only supplement existing fields in options.fields\n    if (options.fields) {\n      options.fields.forEach(function (fieldOption: FieldOption) {\n        // get the fieldDef in vlSpec that matches the fieldOption\n        const fieldDef = getFieldDef(vl.spec.fieldDefs(vlSpec), fieldOption);\n\n        // supplement the fieldOption with fieldDef and config\n        const supplementedFieldOption = supplementFieldOption(fieldOption, fieldDef, vlSpec);\n\n        supplementedFields.push(supplementedFieldOption);\n      });\n    }\n  }\n\n  options.fields = supplementedFields;\n\n  return options;\n}\n\n/**\n * Find a fieldOption in fieldOptions that matches a fieldDef\n *\n * @param {Object[]} fieldOptionss - a list of field options (i.e. options.fields[])\n * @param {Object} fieldDef - from vlSpec\n * @return the matching fieldOption, or undefined if no match was found\n *\n * If the fieldDef is aggregated, find a fieldOption that matches the field name and\n * the aggregation of the fieldDef.\n * If the fieldDef is not aggregated, find a fieldOption that matches the field name.\n */\nexport function getFieldOption(fieldOptions: FieldOption[], fieldDef: FieldDef<any>) {\n  if (!fieldDef || !fieldOptions || fieldOptions.length <= 0) {\n    return undefined;\n  }\n\n  // if aggregate, match field name and aggregate operation\n  if (fieldDef.aggregate) {\n    // try find the perfect match: field name equals, aggregate operation equals\n    for (const item of fieldOptions) {\n      if (item.field === fieldDef.field && item.aggregate === fieldDef.aggregate) {\n        return item;\n      }\n    }\n\n    // try find the second-best match: field name equals, field.aggregate is not specified\n    for (const item of fieldOptions) {\n      if (item.field === fieldDef.field && !item.aggregate) {\n        return item;\n      }\n    }\n\n    // return undefined if no match was found\n    return undefined;\n  } else { // if not aggregate, just match field name\n    for (const item of fieldOptions) {\n      if (item.field === fieldDef.field) {\n        return item;\n      }\n    }\n\n    // return undefined if no match was found\n    return undefined;\n  }\n}\n\n/**\n * Find a fieldDef that matches a fieldOption\n *\n * @param {Object} fieldOption - a field option (a member in options.fields[])\n * @return the matching fieldDef, or undefined if no match was found\n *\n * A matching fieldDef should have the same field name as fieldOption.\n * If the matching fieldDef is aggregated, the aggregation should not contradict\n * with that of the fieldOption.\n */\nexport function getFieldDef(fieldDefs: FieldDef<any>[], fieldOption: FieldOption): FieldDef<any> {\n  if (!fieldOption || !fieldOption.field || !fieldDefs) {\n    return undefined;\n  }\n\n  // field name should match, aggregation should not disagree\n  for (const item of fieldDefs) {\n    if (item.field === fieldOption.field) {\n      if (item.aggregate) {\n        if (item.aggregate === fieldOption.aggregate || !fieldOption.aggregate) {\n          return item;\n        }\n      } else {\n        return item;\n      }\n    }\n  }\n\n  // return undefined if no match was found\n  return undefined;\n}\n\n/**\n * Supplement a fieldOption (from options.fields[]) with a fieldDef, config\n * (which provides timeFormat, numberFormat, countTitle)\n * Either fieldOption or fieldDef can be undefined, but they cannot both be undefined.\n * config (and its members timeFormat, numberFormat and countTitle) can be undefined.\n * @return the supplemented fieldOption, or undefined on error\n */\nexport function supplementFieldOption(fieldOption: FieldOption, fieldDef: FieldDef<any>, vlSpec: TopLevelExtendedSpec) {\n  // many specs don't have config\n  const config = {...vlSpec.config};\n\n  // at least one of fieldOption and fieldDef should exist\n  if (!fieldOption && !fieldDef) {\n    console.error('[Tooltip] Cannot supplement a field when field and fieldDef are both empty.');\n    return undefined;\n  }\n\n  // if either one of fieldOption and fieldDef is undefined, make it an empty object\n  if (!fieldOption && fieldDef) {\n    fieldOption = {};\n  }\n  if (fieldOption && !fieldDef) {\n    fieldDef = {} as any;  // type will be added later, TODO: refactor this\n  }\n\n  // the supplemented field option\n  const supplementedFieldOption: SupplementedFieldOption = {};\n\n  // supplement a user-provided field name with underscore prefixes and suffixes to\n  // match the field names in item.datum\n  // for aggregation, this will add prefix \"mean_\" etc.\n  // for timeUnit, this will add prefix \"yearmonth_\" etc.\n  // for bin, this will add prefix \"bin_\" and suffix \"_start\". Later we will replace \"_start\" with \"_range\".\n\n  if (fieldDef.bin) {\n    fieldDef.bin = vl.fieldDef.normalizeBin(fieldDef.bin, undefined);\n  }\n  supplementedFieldOption.field = vl.fieldDef.vgField(fieldDef) || fieldOption.field;\n\n  // If a fieldDef is a (TIMEUNIT)T, we check if the original T is present in the vlSpec.\n  // If only (TIMEUNIT)T is present in vlSpec, we set `removeOriginalTemporalField` to T,\n  // which will cause function removeDuplicateTimeFields() to remove T and only keep (TIMEUNIT)T\n  // in item data.\n  // If both (TIMEUNIT)T and T are in vlSpec, we set `removeOriginalTemporalField` to undefined,\n  // which will leave both T and (TIMEUNIT)T in item data.\n  // Note: user should never have to provide this boolean in options\n  if (fieldDef.type === TEMPORAL && fieldDef.timeUnit) {\n    // in most cases, if it's a (TIMEUNIT)T, we remove original T\n    const originalTemporalField = fieldDef.field;\n    supplementedFieldOption.removeOriginalTemporalField = originalTemporalField;\n\n    // handle corner case: if T is present in vlSpec, then we keep both T and (TIMEUNIT)T\n    const fieldDefs = vl.spec.fieldDefs(vlSpec);\n    for (const items of fieldDefs) {\n      if (items.field === originalTemporalField && !items.timeUnit) {\n        supplementedFieldOption.removeOriginalTemporalField = undefined;\n        break;\n      }\n    }\n  }\n\n  // supplement title\n  if (!config.countTitle) {\n    config.countTitle = vl.config.defaultConfig.countTitle; // use vl default countTitle\n  }\n  let defaultTitle = vl.fieldDef.title(fieldDef, config);\n  if (isPositionFieldDef(fieldDef)) {\n    if (fieldDef.axis && fieldDef.axis.title) {\n      defaultTitle = fieldDef.axis.title;\n    }\n  }\n  if (isMarkPropFieldDef(fieldDef)) {\n    if (fieldDef.legend && fieldDef.legend.title) {\n      defaultTitle = fieldDef.legend.title;\n    }\n  }\n\n  supplementedFieldOption.title = fieldOption.title || defaultTitle;\n\n  // supplement formatType\n  supplementedFieldOption.formatType = fieldOption.formatType || formatTypeMap[fieldDef.type];\n\n  // supplement format\n  if (fieldOption.format) {\n    supplementedFieldOption.format = fieldOption.format;\n  } else { // when user doesn't provide format, supplement format using timeUnit, timeFormat, and numberFormat\n    switch (supplementedFieldOption.formatType) {\n      case 'time':\n        supplementedFieldOption.format = fieldDef.timeUnit ?\n          // TODO(zening): use template for all time fields, to be consistent with Vega-Lite\n          vl.timeUnit.formatExpression(fieldDef.timeUnit, '', false, false).split(\"'\")[1]\n          : config.timeFormat || vl.config.defaultConfig.timeFormat;\n        break;\n      case 'number':\n        supplementedFieldOption.format = config.numberFormat;\n        break;\n      case 'string':\n      default:\n    }\n  }\n\n  // supplement bin from fieldDef, user should never have to provide bin in options\n  if (fieldDef.bin) {\n    supplementedFieldOption.field = supplementedFieldOption.field.replace('_start', '_range'); // replace suffix\n    supplementedFieldOption.bin = true;\n    supplementedFieldOption.formatType = 'string'; // we show bin range as string (e.g. \"5-10\")\n  }\n\n  return supplementedFieldOption;\n}\n\n/**\n * Typeguard function for PositionFieldDef interface\n */\nfunction isPositionFieldDef(fd: FieldDef<any>): fd is PositionFieldDef<any> {\n  // the fieldDef may still be a PositionFieldDef even if it doesn't have an axis\n  return 'axis' in fd;\n}\n\n/**\n * Typeguard function for MarkPropFieldDef interface\n */\nfunction isMarkPropFieldDef(fd: FieldDef<any>): fd is MarkPropFieldDef<any> {\n  // the fieldDef may still be a MarkPropFieldDef even if it doesn't have a legend\n  return 'legend' in fd;\n}\n","import {EnterElement, select, Selection} from 'd3-selection';\nimport {Option, TooltipData} from './options';\n\n/**\n * Get the tooltip HTML placeholder by id selector \"#vis-tooltip\"\n * If none exists, create a placeholder.\n * @returns the HTML placeholder for tooltip\n */\nexport function getTooltipPlaceholder() {\n  let tooltipPlaceholder;\n\n  if (select('#vis-tooltip').empty()) {\n    tooltipPlaceholder = select('body').append('div')\n      .attr('id', 'vis-tooltip')\n      .attr('class', 'vg-tooltip');\n  } else {\n    tooltipPlaceholder = select('#vis-tooltip');\n  }\n\n  return tooltipPlaceholder;\n}\n\n/**\n * Bind tooltipData to the tooltip placeholder\n */\nexport function bindData(tooltipPlaceholder: Selection<Element | EnterElement | Document | Window, {}, HTMLElement, any>, tooltipData: TooltipData[]) {\n  tooltipPlaceholder.selectAll('table').remove();\n  const tooltipRows = tooltipPlaceholder.append('table').selectAll('.tooltip-row')\n    .data(tooltipData);\n\n  tooltipRows.exit().remove();\n\n  const row = tooltipRows.enter().append('tr')\n    .attr('class', 'tooltip-row');\n  row.append('td').attr('class', 'key').text(function (d: TooltipData) { return d.title + ':'; });\n  row.append('td').attr('class', 'value').text(function (d: TooltipData) { return d.value; });\n}\n\n/**\n * Clear tooltip data\n */\nexport function clearData() {\n  select('#vis-tooltip').selectAll('.tooltip-row').data([])\n    .exit().remove();\n}\n\n/**\n * Update tooltip position\n * Default position is 10px right of and 10px below the cursor. This can be\n * overwritten by options.offset\n */\nexport function updatePosition(event: MouseEvent, options: Option) {\n  // determine x and y offsets, defaults are 10px\n  let offsetX = 10;\n  let offsetY = 10;\n  if (options && options.offset && (options.offset.x !== undefined) && (options.offset.x !== null)) {\n    offsetX = options.offset.x;\n  }\n  if (options && options.offset && (options.offset.y !== undefined) && (options.offset.y !== null)) {\n    offsetY = options.offset.y;\n  }\n\n  // TODO: use the correct time type\n  select('#vis-tooltip')\n    .style('top', function (this: HTMLElement) {\n      // by default: put tooltip 10px below cursor\n      // if tooltip is close to the bottom of the window, put tooltip 10px above cursor\n      const tooltipHeight = this.getBoundingClientRect().height;\n      if (event.clientY + tooltipHeight + offsetY < window.innerHeight) {\n        return '' + (event.clientY + offsetY) + 'px';\n      } else {\n        return '' + (event.clientY - tooltipHeight - offsetY) + 'px';\n      }\n    })\n    .style('left', function (this: HTMLElement) {\n      // by default: put tooltip 10px to the right of cursor\n      // if tooltip is close to the right edge of the window, put tooltip 10 px to the left of cursor\n      const tooltipWidth = this.getBoundingClientRect().width;\n      if (event.clientX + tooltipWidth + offsetX < window.innerWidth) {\n        return '' + (event.clientX + offsetX) + 'px';\n      } else {\n        return '' + (event.clientX - tooltipWidth - offsetX) + 'px';\n      }\n    });\n}\n\n/* Clear tooltip position */\nexport function clearPosition() {\n  select('#vis-tooltip')\n    .style('top', '-9999px')\n    .style('left', '-9999px');\n}\n\n/**\n * Update tooltip color theme according to options.colorTheme\n *\n * If colorTheme === \"dark\", apply dark theme to tooltip.\n * Otherwise apply light color theme.\n */\nexport function updateColorTheme(options: Option) {\n  clearColorTheme();\n\n  if (options && options.colorTheme === 'dark') {\n    select('#vis-tooltip').classed('dark-theme', true);\n  } else {\n    select('#vis-tooltip').classed('light-theme', true);\n  }\n}\n\n/* Clear color themes */\nexport function clearColorTheme() {\n  select('#vis-tooltip').classed('dark-theme light-theme', false);\n}\n"]}